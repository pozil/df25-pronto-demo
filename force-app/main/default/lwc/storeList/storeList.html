<template>
  <div class="slds-card slds-var-p-around_small">
    <template lwc:if={stores.data}>
      <div class="slds-grid slds-wrap">
        <template for:each={stores.data.records} for:item="store">
          <c-store-tile
            store={store}
            key={store.Id}
            onselected={handleStoreSelected}
            class="slds-col slds-var-m-around_xx-small"
          ></c-store-tile>
        </template>
      </div>
      <c-paginator
        page-number={pageNumber}
        page-size={pageSize}
        total-item-count={stores.data.totalItemCount}
        onprevious={handlePreviousPage}
        onnext={handleNextPage}
      ></c-paginator>
    </template>
    <template lwc:if={stores.error}>
      <c-error-panel
        friendly-message="Error retrieving data"
        errors={stores.error}
      ></c-error-panel>
    </template>
  </div>
</template>
